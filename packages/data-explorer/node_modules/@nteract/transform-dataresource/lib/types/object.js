"use strict";

var _interopRequireDefault = require("@babel/runtime-corejs2/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.castObject = castObject;

var _lodash = _interopRequireDefault(require("lodash"));

var _error = require("./error");

// Module API
function castObject(format, value) {
  if (!_lodash.default.isObject(value)) {
    if (!_lodash.default.isString(value)) {
      return _error.ERROR;
    }

    try {
      value = JSON.parse(value);
    } catch (error) {
      return _error.ERROR;
    }

    if (!_lodash.default.isPlainObject(value)) {
      return _error.ERROR;
    }
  }

  return value;
}