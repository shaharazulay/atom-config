"use strict";

var _interopRequireDefault = require("@babel/runtime-corejs2/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.castYear = castYear;

var _parseInt2 = _interopRequireDefault(require("@babel/runtime-corejs2/core-js/parse-int"));

var _lodash = _interopRequireDefault(require("lodash"));

var _error = require("./error");

// Module API
function castYear(format, value) {
  if (!_lodash.default.isInteger(value)) {
    if (!_lodash.default.isString(value)) {
      return _error.ERROR;
    }

    if (value.length !== 4) {
      return _error.ERROR;
    }

    try {
      var result = (0, _parseInt2.default)(value, 10);

      if (_lodash.default.isNaN(result) || result.toString() !== value) {
        return _error.ERROR;
      }

      value = result;
    } catch (error) {
      return _error.ERROR;
    }
  }

  if (value < 0 || value > 9999) {
    return _error.ERROR;
  }

  return value;
}