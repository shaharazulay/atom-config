"use strict";

var _interopRequireDefault = require("@babel/runtime-corejs2/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.castDuration = castDuration;

var _lodash = _interopRequireDefault(require("lodash"));

var _moment = _interopRequireDefault(require("moment"));

var _error = require("./error");

// Module API
function castDuration(format, value) {
  if (!_moment.default.isDuration(value)) {
    if (!_lodash.default.isString(value)) {
      return _error.ERROR;
    }

    try {
      value = _moment.default.duration(value);

      if (!value.as("milliseconds")) {
        return _error.ERROR;
      }
    } catch (error) {
      return _error.ERROR;
    }
  }

  return value;
}