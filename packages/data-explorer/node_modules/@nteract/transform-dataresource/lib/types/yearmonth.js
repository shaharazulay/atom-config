"use strict";

var _interopRequireDefault = require("@babel/runtime-corejs2/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.castYearmonth = castYearmonth;

var _parseInt2 = _interopRequireDefault(require("@babel/runtime-corejs2/core-js/parse-int"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime-corejs2/helpers/slicedToArray"));

var _lodash = _interopRequireDefault(require("lodash"));

var _error = require("./error");

// Module API
function castYearmonth(format, value) {
  if (_lodash.default.isArray(value)) {
    if (value.length !== 2) {
      return _error.ERROR;
    }
  } else if (_lodash.default.isString(value)) {
    try {
      var _value$split = value.split("-"),
          _value$split2 = (0, _slicedToArray2.default)(_value$split, 2),
          year = _value$split2[0],
          month = _value$split2[1];

      year = (0, _parseInt2.default)(year, 10);
      month = (0, _parseInt2.default)(month, 10);

      if (!year || !month) {
        return _error.ERROR;
      }

      if (month < 1 || month > 12) {
        return _error.ERROR;
      }

      value = [year, month];
    } catch (error) {
      return _error.ERROR;
    }
  } else {
    return _error.ERROR;
  }

  return value;
}